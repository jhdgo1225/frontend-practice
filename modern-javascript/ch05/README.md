# Modern JavaScript - 5장. 표현식과 문

### 값

- 식(표현식)이 평가되어 생성된 결과
- 평가란 식을 해석해서 값을 생성하거나 참조하는 것

	```javascript
	// 변수에는 10 + 20이 평가되어 생성된 숫자 값 30이 할당됨
	var sum = 10 + 20
	```

### 리터럴(literal)

- 사람이 이해할 수 있는 문자 또는 약속된 기호를 사용해 값을 생성하는 표기법

| 리터럴       | 예시                                | 비고          |
| --------- | --------------------------------- | ----------- |
| 정수        | 100                               |             |
| 부동소수점     | 10.5                              |             |
| 2진수       | 0b01000001                        | 0b로 시작      |
| 8진수       | 0o101                             | ES6, 0o로 시작 |
| 16진수      | 0x41                              | ES6, 0x로 시작 |
| 문자열       | 'Hello'<br>"World"                |             |
| 불리언       | true<br>false                     |             |
| null      | null                              |             |
| undefined | undefined                         |             |
| 객체        | { name: 'Lee', address: 'Seoul' } |             |
| 배열        | \[ 1, 2, 3 \]                     |             |
| 함수        | function() {}                     |             |
| 정규 표현식    | /\[A-Z\]+/g                       |             |

### 표현식

- 값으로 평가될 수 있는 문(statement)
- 표현식이 평가되면 새로운 값을 생성하거나 기존 값을 참조

```javascript
// 리터럴 표현식
10
'Hello'

// 식별자 표현식(선언이 이미 존재한다고 가정)
sum
person.name
arr[1]

// 연산자 표현식(선언이 이미 존재한다고 가정)
10 + 20
sum = 10;
sum !== 10

// 함수/메서드 호출 표현식(선언이 이미 존재한다고 가정)
square()
person.getName()
```

- 표현식과 표현식이 평가된 값은 동등한 관계, 즉 동치(equivalent)

### 문

- 프로그램을 구성하는 기본 단위이자 최소 실행 단위
- 문의 집합으로 이루어진 것을 프로그램, 문을 작성하고 순서에 맞게 나열하는 것을 프로그래밍이라 부름
- 문은 여러 토큰(Token, 문법적인 의미를 가지며, 문법적으로 더 이상 나눌 수 없는 코드의 기본 요소를 의미)으로 구성

### 표현식인 문 VS 표현식이 아닌 문

- 특정 문이 값으로 쓰일 수 있는지 없는지로 판단
- 가장 쉽고 확실한 방법은 변수에 할당해 보는 것

### 세미콜론

- 자바스크립트 엔진은 세미콜론으로 문이 종료한 위치를 파악하고 순차적으로 하나씩 문을 실행
- 0개 이상의 문을 중괄호로 묶은 코드 블록 뒤에는 세미콜론 금지

### 세미콜론 자동 삽입 기능(ASI, automatic semicolon insertion)

- 세미콜론 생략 가능
- 자바스크립트 엔진이 소스코드를 해석할 때 문의 끝이라고 예측되는 지점에 세미콜론을 자동으로 붙여주는 세미콜론 자동 삽입 기능이 암묵적으로 수행

### 생략하지 말자

- 세미콜론 자동 삽입 기능의 동작을 제대로 예측하지 못하는 경우가 생길 수 있음

```javascript
function foo() {
	return
		{}
	// ASI 동작 결과 -> return; {};
	// 개발자의 예측 -> return {};
}
console.log(foo());

var bar = function () {}
(function() {})();
// ASI 동작 결과 -> var bar = function () {}(function() {})();
// 개발자의 예측 -> var bar = function () {}; (function() {})();
// TypeError: (intermediate value)(...) is not a function
```

- 세미콜론을 반드시 붙여야 한다는 주장이 다수를 차지
- TC39(ECMAScript 기술 위원회)도 세미콜론 사용을 권장
- 그럴거면 자바스크립트 엔진에 왜 자동 삽입 기능을 넣은 거냐...